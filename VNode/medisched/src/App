import React, { useState } from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import DoctorPage from './components/DoctorPage';
import HomePage from './pages/HomePage';
import LoginForm from './components/LoginForm';
import RegForm from './components/RegForm';
import AppointmentsPage from './components/AppointmentsPage';
import BookingPage from './pages/BookingPage';
import { LocalizationProvider } from '@mui/x-date-pickers';
import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';
import BookingSuccessPage from './pages/BookingSuccessPage';
import MyBookingsPage from './components/MyBookingsPage';
import AuthContext, { AuthProvider } from './context/AuthContext';
import ProfilePage from './pages/ProfilePage';
import MyDoctorsPage from './pages/MyDoctorsPage';
import OnlineConsultationPage from './pages/OnlineConsultationPage';
import MedicalRecordsPage from './pages/MedicalRecordsPage';
import RemindersPage from './pages/RemindersPage';
import BlogsPage from './pages/BlogsPage';
import BlogManagementPage from './pages/BlogManagementPage';

function App() {
  const [user, setUser] = useState(null); 
  const handleLoginSuccess = (userData) => {
    setUser(userData); 
  };
  return (
    <AuthProvider>
    <Router>
      <LocalizationProvider dateAdapter={AdapterDayjs}>
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/doctors" element={<DoctorPage />} />
        <Route path="/login" element={<LoginForm />} />
        <Route path="/register" element={<RegForm />} />
        <Route path="/Appointments" element={<AppointmentsPage/>}/>
        <Route path="/booking/:doctorId" element={<BookingPage />} />
        <Route path="/bookingsuccess" element={<BookingSuccessPage/>}/>
        <Route path="/mybookings" element={<MyBookingsPage/>}/>
        <Route path="/profile" element={<ProfilePage/>}/>
        <Route path="/my-doctors" element={<MyDoctorsPage/>}/>
        <Route path="/online-consultation" element={<OnlineConsultationPage/>}/>
        <Route path="/medical-records" element={<MedicalRecordsPage/>}/>
        <Route path="/reminders" element={<RemindersPage/>}/>
        <Route path="/blog/:id" element={<BlogsPage/>}/>
        <Route path="/admin/blog" element={<BlogManagementPage/>}/>
      </Routes>
      </LocalizationProvider>
    </Router>
    </AuthProvider>
  );
}

export default App;
